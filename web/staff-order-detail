<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>


<head>
    <meta charset="UTF-8">
    <title>Order Detail | E-Shopper</title>
    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/bootstrap.min.css" />
    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/font-awesome.min.css" />
    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/main.css" />
</head>

<html lang="en">


<body style="padding: 40px; background-color: #f9f9f9;">
    <div class="container">
        <h2 class="mb-4">üì¶ Chi ti·∫øt ƒë∆°n h√†ng #${order.id}</h2>

        <div class="mb-4">
            <p><strong>Kh√°ch h√†ng:</strong> ${order.userId}</p>
            <p><strong>ƒê·ªãa ch·ªâ giao h√†ng:</strong> ${order.shippingAddress}</p>
            <p><strong>Tr·∫°ng th√°i:</strong> ${order.orderStatus}</p>
            <p><strong>Ng√†y t·∫°o:</strong> ${order.createdAt}</p>
        </div>

        <h4 class="mb-3">üõí Danh s√°ch s·∫£n ph·∫©m</h4>
        <table class="table table-bordered table-striped">
            <thead class="thead-dark">
                <tr>
                    <th>STT</th>
                    <th>T√™n s·∫£n ph·∫©m</th>
                    <th>H√¨nh ·∫£nh</th>
                    <th>Gi√°</th>
                    <th>S·ªë l∆∞·ª£ng</th>
                    <th>Th√†nh ti·ªÅn</th>
                </tr>
            </thead>
            <tbody>
                <c:forEach var="item" items="${orderItems}" varStatus="loop">
                    <c:set var="product" value="${productMap[item.productId]}" />
                    <tr>
                        <td>${loop.index + 1}</td>
                        <td>${product.productName}</td>
                        <td><img src="${product.image}" style="width: 60px;" /></td>
                        <td>$${item.unitPrice}</td>
                        <td>${item.quantity}</td>
                        <td>$${item.unitPrice * item.quantity}</td>
                    </tr>
                </c:forEach>
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="5" class="text-right">T·ªïng c·ªông:</th>
                    <th>$${order.totalAmount}</th>
                </tr>
            </tfoot>
        </table>

        <a href="${pageContext.request.contextPath}/staff-order-list" class="btn btn-secondary mt-3">‚¨Ö Quay l·∫°i danh s√°ch</a>
    </div>

   <footer id="footer">
    <div class="footer-bottom text-center" style="padding: 20px 0; background: #f0f0f0;">
        <p class="mb-0">¬© 2025 E-Shopper. All rights reserved.</p>
    </div>
</footer>

<script src="${pageContext.request.contextPath}/js/jquery.js"></script>
<script src="${pageContext.request.contextPath}/js/bootstrap.min.js"></script>
<script src="${pageContext.request.contextPath}/js/main.js"></script>
</body>
</html>
